<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<script src="./node_modules/papaparse/papaparse.min.js"></script>
	<script src="./node_modules/chart.js/dist/Chart.min.js"></script>
	<script src="./node_modules/chart.js/dist/Chart.js"></script>
	<script type="text/javascript" src="./SortingAlgo.js"></script>
	<script type="text/javascript" src="./Table.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<title>SortingAnalysis</title>
	<style>
		#graph{
			display:none;
		}
		#random{
			display:block;
		}
		#reverse{
			display: none;
		}
		#nearlysorted{
			display: none;
		}
		#unique{
			display: none;
		}
		label {
			text-align: right;
			clear: both;
			float:center;
			margin-right:15px;
			font-weight: bold;
		}
		body{
			margin:0;
			padding:0;
		}
		.contentcenter{
			justify-content: center;
			text-align:center;
			background-color: #EBF6FF;
			color:black;
		}
		.row-content{
			margin-bottom: 50px;
			border-bottom:2px solid #1F95EE;
			border-radius: 10px;
		}
		.borderinput{
			border: 2px solid #1F95EE;
			padding:10px;
			border-radius: 10px;
			margin:2px;
			margin-bottom:20px;
		}
		.inputbox{
			outline:none;
			border: 10px solid #1F95EE;
			background-color: #1F95EE;
			color:white;
			border-radius: 10px;
		}
		.inputselect{
			outline:none;
			border:10px #1F95EE;
			padding:10px 90px 10px 10px;
			align-content: center;
			border-radius: 10px ;
			color:white;
			background-color:#1F95EE ;
			position: relative;
		}
		table {
			overflow-x: auto;
			font-family: arial, sans-serif;
			border-collapse: collapse;
			width: 100%;
		}
		td {
  			border: 1px solid #1F95EE;
  			text-align: center;
  			padding: 8px;
		}

		input[type="file"] {
			display: none;
		}
		.custom-file-upload {
			border: 1px solid #ccc;
			display: inline-block;
			padding: 6px 12px;
			cursor: pointer;
			border-radius: 10px;
			background-color:#1F95EE; ;
			color:white;
			font-weight: normal;
		}
		th {
			color: white;
			background-color:#1F95EE ;
  			border: 1px solid #1F95EE;
  			text-align: center;
  			padding: 8px;
		}
		#outputdata{
			display: none;
		}
		#graph{
			border:2px solid white;
			padding:5px;
			margin-bottom:20px;
			background-color: rgb(255, 255, 255);
		}
		::placeholder {
  			color: white;}
		.option {
			background-color: white;
			color:black;
		}
		.option:hover{
			background-color:#1F95EE;
			color:white;
		}

	</style>
</head>

<body style="background-color: #EBF6FF;color:black ;">   <!-- hsl(207, 82%, 68%) -->
	<div id="Algoresult" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg" role="content"  >
            <div class="modal-content" >
                <div class="modal-header" style="background-color: #EBF6FF;padding-left: 25%;" >
                    <h4 style="align-content: center;justify-content: center;border-radius: 10px;">  <span
						style="
						  background-color: #1f95ee;
						  color: white;
						  border-radius: 10px;
						  padding: 5px;
						  padding-right: 15px;
						"
						>Sorting input and output</span></h4>
                    <button class="close" data-dismiss="modal">
                        &times;
                    </button>
				</div>
				<div class="modal-body" style="background-color: #EBF6FF;border-radius: 10px;">
					<canvas id="popUpChart"></canvas>
					<h4 > <span
						style="
						  background-color: #1f95ee;
						  color: white;
						  border-radius: 10px;
						  padding: 5px;
						  padding-right: 15px;
						  margin: 10px;
						"
						>
						Input Data:
					</span></h4>
					<div id="resultarr" style="color: black;overflow-x: auto;word-break: break-word;padding: 10px;"></div>
					<h4 ><span
						style="
						  background-color: #1f95ee;
						  color: white;
						  border-radius: 10px;
						  padding: 5px;
						  padding-right: 15px;
						  margin: 10px;
						"
						>
						Output Data:
					</span></h4>
					<div id="resultoutarr" style="color: black;overflow-x: auto;word-break: break-word;padding: 10px;"></div>                
                </div>
            </div>
        </div>
    </div>
	<div class="container" style="width:100%;margin:0 auto">
		<div class="row row-content">
			<div class="col-12 contentcenter" >
				<h1>Sorting Analysis</h1>
				<p>Here we have analysis of 10 types of sorting algorithm and the results will be analysed and get printed below!!</p>
			</div>
		</div>
		<div class="panel-group" >
			<div class="panel panel-default">
			  <div class="panel-heading"style="background-color:#1F95EE;  border-radius: 10px;padding:8px;">
				<h4 class="panel-title" style = "text-align: center;color:white">Input Form
				  <a data-toggle="collapse" href="#collapsibleForm" 
				  style = "color:white;font-weight: bold;font-size:16px;text-align: center;"
				  onclick="formcollapseLogoChange()"
				  ><i id="inputformicon" class="fa fa-plus" style="font-size:22px;float:right;margin-top: 5px;margin-right:20px"></i></a>
				</h4>
			  </div>
		<div id= "collapsibleForm" class = "panel-collapse collapse">
			<br/>
			
			<div  class="row-content" style="border:solid #1F95EE 2px; border-radius: 10px;">
				<table >
					<tr>
						<th >Data Type</th>
						<th>Min Value</th>
						<th>Max Value</th>
					</tr>
					<tr>
						<td>Integer</td>		
						<td>Integer</td>			    
						<td>Integer</td>
					</tr>
					<tr>
						<td>Float</td>		
						<td>Float or Integer</td>	
						<td>Float or Integer</td>
					</tr>
					<tr>
						<td>String</td>		
						<td>length of String</td>	
						<td>length of String</td>
					</tr>
					<tr>
						<td >DateTime</td>	
						<td>yyyy-mm-dd</td>			
						<td>yyyy-mm-dd</td>
					</tr>
					</tr>
				</table>
			</div>
			<p style="color:white;background-color:#1F95EE; font-weight: bold;font-size:16px;text-align: center; border-radius: 10px;padding:8px;margin-top: 0px;">* while giving the input please specify minimum and maximum values as mentioned above for every category and check its in the correct format..<br></p>
	
		
			<div class="row borderinput row-content" style="margin:0px 0px 10px 0px;padding-left:30px;">
				<div class="col-12" style="margin-top:10px;">
					<h3 class="contentcenter" style="color:#1F95EE;">Input</h1><br>
				</div>
				<div class="col-sm-12 col-md-6 form-group" style="margin:none;padding:none">
					<label style="margin-right:10px;font-size:20px">Type of Data: </label>&emsp;&emsp;&emsp;&emsp;&emsp;
						<select class="inputselect" id="datatype" onchange="labelchange()">
							<!-- <option class="option" >Choose</option> -->
							<option class="option" >Integer</option>
							<option class="option" >Float</option>
							<option class="option">Character</option>
							<option class="option">String</option>
							<option class="option">DateTime</option>
						</select>
						<div style="color:red" id="errorDatatype"></div><br>
				</div>
				<div class="col-sm-12 col-md-6 form-group" style="margin: none;padding:none">
					<label style="margin-right:10px;font-size:20px">Size of the array: </label>&emsp;
					<input class="inputbox" id="noofelements" type="text" value = "20">
					
					<div style="color:red" id="errorNoofelements"></div><br>
				</div>
				<div class="col-sm-12 col-md-6 form-group" style="margin: none;padding:none">
					<label id = "inputMinValue" style="margin-right:10px;font-size:20px">Minimum value: </label>&emsp;&emsp;&emsp;
					<input class="inputbox" id="minrange" type="text" value = "10">
					<!--removed placeholder placeholder="Enter the min range..."-->
					<div id="errorMinval" style="color:red"></div><br>
				</div>
				<div class="col-sm-12 col-md-6 form-group" style="margin: none;padding:none">
					<label id = "inputMaxValue" style="margin-right:10px;font-size:20px">Maximum value: </label>&emsp;
					<input class="inputbox" id="maxrange" type="text" value = "1000">
					<!--removed placeholder placeholder="Enter the max range..."-->
					<div id="errorMaxval" style="color:red"></div><br>
				</div>
				<div class="col-sm-12 col-md-6 form-group" style="margin: none;padding:none">
					<label style="margin-right:10px;font-size:20px">Nearly Sorted Percent: </label>
					<input class="inputbox" id="nearlysortedpercent" type="text" value="10">
					<!--removed placeholder placeholder="Enter the nearlysorted %..."-->
					<div style="color:red" id="errorNearly"></div><br>
				</div>
				<div class="col-sm-12 col-md-6 form-group" style="margin: none;padding:none">
					<label style="margin-right:10px;font-size:20px">Duplicate percent: </label>
					<input class="inputbox" id="duplicatepercent" type="text" value="20">
					<!--removed placeholder placeholder="Enter the duplicate %..."-->
					<div id="errorDup" style="color:red"></div><br>
				</div><br>
				<div class="col-sm-12 contentcenter" style="color:black">
					(OR)
				</div><br><br>
				<div class="col-sm-12 form-group contentcenter" style="margin: none;padding:none">
					<label style="margin-right:10px;font-size:20px;color:black">Insert csv file: </label>
					<!-- <input id="file" type="file" accept=".csv" style="color:black;"> -->
					<label for="file-upload" class="custom-file-upload">
						<i class="fa fa-cloud-upload"></i> Custom Upload
					</label>
					<div id = "file_name">
					</div>
					<input id="file-upload" type="file"/>
					<div id="errorFile" style="color:red"></div><br>
				</div>
				<div class="col-12 contentcenter" style="margin-bottom:20px">
					<button class="btn btn-warning btn-lg" id="submit" style ="color:white;background-color:#1F95EE;border-color: #1F95EE ;"onclick="sorting()">Submit</button>
				</div>
			</div>
		</div>
		<br/>
		<div class="row" id="outputdata" style="border:2px solid #1F95EE;padding:5px;margin:0px 10px 20px 10px;border-radius: 8px;">

			<div class="col-12">
				<ul class="nav nav-tabs" style="display:inline-flex;">
					<li class="nav-item">
						<a class="nav-link active" id="randomtab" onclick = "changeRandomTabColor()" style="border:5px solid white;border-radius: 10px; color:black;background-color: #d9e9f5;">Random Array</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" id="reversetab" onclick = "changeReverseTabColor()" style="border:5px solid white; border-radius: 10px;color:white;background-color: #1F95EE;">Reverse Array</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" id="nearlysortedtab" onclick = "changeNearlySortedTabColor()"style="border:5px solid white; border-radius: 10px;color:white;background-color: #1F95EE;">Nearly Sorted Array</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" id="uniquetab" onclick = "changUniqueTabColor()"style="border:5px solid white; border-radius: 10px;color:white;background-color: #1F95EE;">Duplicate Array</a>
					</li>
				</ul>
			</div>
			<div class="col-12">
				<div id="inputdata" style="display: none;margin-top:30px;padding-bottom: 20px;">
					<h4>Input Data:</h4>
					<div style="width:100%"><a style="word-wrap: break-word;overflow-x: auto;cursor: pointer;" id="inputarr" data-toggle="modal" data-target="#Algoresult"></a></div>
					<br>
					<h4>Output Data:</h4>
					<div style="width:100%"><a style="word-wrap: break-word;overflow-x: auto;cursor: pointer;" id="outputarr" data-toggle="modal" data-target="#Algoresult"></a></div>
				</div>
			</div>

		
		
			<div id="graph" style="overflow-x:auto">
				<h3 style="color: black;">Graph Representation</h3>
				<div class="row">
					<div class="col-lg-2">
					</div>
					<div class="col-md-12 col-lg-8" style="min-width:500px;width:500px !important;overflow-x: auto;">
						<canvas id="myChart"></canvas>	
					</div>
					<div class="col-lg-2"></div>
				</div>
			</div>
		
			<div id="data" style="display: none;"></div>
			<div id="timerandom" style="display: none;"></div>
			<div id="timereverse" style="display: none;"></div>
			<div id="timenearlysorted" style="display: none;"></div>
			<div id="timeunique" style="display: none;"></div>
			
			<div id="comparisons" style="display: none;"></div>
			<div id="comprandom" style="display: none;"></div>
			<div id="compreverse" style="display: none;"></div>
			<div id="compnearlysorted" style="display: none;"></div>
			<div id="compunique" style="display: none;"></div>		
			
			<div id="swaps" style="display: none;"></div>
			<div id="swapsrandom" style="display: none;"></div>
			<div id="swapsreverse" style="display: none;"></div>
			<div id="swapsnearlysorted" style="display: none;"></div>
			<div id="swapsunique" style="display: none;"></div>

			<div id="filearr" style="display: none;"></div>
			<div id="bool" style="display:none;"></div>
			<!-- <button id="getdata" onclick="getdata()">getdata</button> -->

			<!-- <div  id="outputdata" class="row-content" style="overflow-x: auto;"> -->
				
			<div class="col-12">
				<div class="tab-content" style="margin-top:16px">
					<div class="tab-pane active" id="random">
						<div class="panel panel-default border-body">
							<!-- <div class="panel-heading"><b>Random Array</b></div> -->
								<div class="panel-body">
									<div id="table1" style="overflow-x: auto;">

									</div>									
								</div>
						</div>
					</div>
					<div class="tab-pane fade" id="reverse">
						<div class="panel panel-default border-body">
							<!-- <div class="panel-heading"><b>Reverse Array</b></div> -->
								<div class="panel-body">
									<div id="table2" style="overflow-x: auto;">
									</div>	
								</div>
						</div>
					</div>
					<div class="tab-pane fade" id="nearlysorted">
						<div class="panel panel-default border-body">
							<!-- <div class="panel-heading"><b>Nearly Sorted Array</b></div> -->
								<div class="panel-body">
									<div id="table3" style="overflow-x: auto;">
									</div>
								</div>
						</div>
					</div>
					<div class="tab-pane fade" id="unique">
						<div class="panel panel-default border-body">
							<!-- <div class="panel-heading"><b>Duplicate Array</b></div> -->
								<div class="panel-body">
									<div id="table4" style="overflow-x: auto;">

									</div>
								</div>
						</div>
					</div>
				</div>
			</div>
			
		</div>
		</div> <!--container end-->
		<script>
			var bool = 0;
			var inputformicon = "add";
			//calling the onclick function for the submit button to have the ouptut for the default values 
			document.getElementById('submit').onclick();
			
			function formcollapseLogoChange(){
				if(inputformicon=="add"){
					inputformicon = "minus";
					document.getElementById("inputformicon").classList.remove("fa-plus");
					document.getElementById("inputformicon").classList.add("fa-minus");
				}
				else{
					inputformicon = "add";
					document.getElementById("inputformicon").classList.remove("fa-minus");
					document.getElementById("inputformicon").classList.add("fa-plus");		
				}
			}

			function labelchange(){
				let datatype = document.getElementById("datatype").value;
				if(datatype == "Integer"){
					document.getElementById("inputMinValue").textContent = "Minimum Value:";
					document.getElementById("inputMaxValue").textContent = "Maximum Value:";
				}else if(datatype == "Character"){
					document.getElementById("inputMinValue").textContent = "Beginning Char:";
					document.getElementById("inputMaxValue").textContent = "Ending Char:";
					document.getElementById("minrange").value = "A";
					document.getElementById("maxrange").value = "z";
					// document.getElementById("noofelements").value = "20";
					// document.getElementById("nearlysortedpercent").value = "10";
					// document.getElementById("duplicatepercent").value = "20";
				}else if(datatype == "String"){
					document.getElementById("inputMinValue").textContent = "Min String Length:";
					document.getElementById("inputMaxValue").textContent = "Max String Length:";
					document.getElementById("minrange").value = "1";
					document.getElementById("maxrange").value = "4";
				}else if(datatype == "DateTime"){
					document.getElementById("inputMinValue").textContent = "Starting Date:";
					document.getElementById("inputMaxValue").textContent = "Ending Date:";
					document.getElementById("minrange").value = "2020-03-20";
					document.getElementById("maxrange").value = "2021-06-23";
				}else if(datatype == "Float"){
					document.getElementById("inputMinValue").textContent = "Minimum Value:";
					document.getElementById("inputMaxValue").textContent = "Maximum Value:";
					document.getElementById("minrange").value = "1.5";
					document.getElementById("maxrange").value = "4.8";
				}
			}
			var myChart;
			var mypopUpChart;


			document.getElementById('file-upload').onchange = function () {
				document.getElementById('file_name').innerHTML = this.value;
			};

			function changeRandomTabColor(){
				document.getElementById("randomtab").style.background="#d9e9f5";
				document.getElementById("randomtab").style.color="black";
				document.getElementById("reversetab").style.background="#1F95EE";
				document.getElementById("reversetab").style.color="white";
				document.getElementById("nearlysortedtab").style.background="#1F95EE";
				document.getElementById("nearlysortedtab").style.color="white";
				document.getElementById("uniquetab").style.background="#1F95EE";
				document.getElementById("uniquetab").style.color="white";
				inputarrContentChange("random")
			}
			function changeReverseTabColor(){
				document.getElementById("reversetab").style.background="#d9e9f5";
				document.getElementById("reversetab").style.color="black";
				document.getElementById("randomtab").style.background="#1F95EE";
				document.getElementById("randomtab").style.color="white";
				document.getElementById("nearlysortedtab").style.background="#1F95EE";
				document.getElementById("nearlysortedtab").style.color="white";
				document.getElementById("uniquetab").style.background="#1F95EE";
				document.getElementById("uniquetab").style.color="white";
				inputarrContentChange("reverse");
			}

			function changeNearlySortedTabColor(){
				document.getElementById("nearlysortedtab").style.background="#d9e9f5";
				document.getElementById("nearlysortedtab").style.color="black";
				document.getElementById("reversetab").style.background="#1F95EE";
				document.getElementById("reversetab").style.color="white";
				document.getElementById("randomtab").style.background="#1F95EE";
				document.getElementById("randomtab").style.color="white";
				document.getElementById("uniquetab").style.background="#1F95EE";
				document.getElementById("uniquetab").style.color="white";
				inputarrContentChange("nearlysorted");
			}

			
			function changUniqueTabColor(){
				document.getElementById("uniquetab").style.background="#d9e9f5";
				document.getElementById("uniquetab").style.color="black";
				document.getElementById("reversetab").style.background="#1F95EE";
				document.getElementById("reversetab").style.color="white";
				document.getElementById("randomtab").style.background="#1F95EE";
				document.getElementById("randomtab").style.color="white";
				document.getElementById("nearlysortedtab").style.background="#1F95EE";
				document.getElementById("nearlysortedtab").style.color="white";
				inputarrContentChange("duplicate");
			}
			function destroy(){
				console.log('hello');
				myChart.destroy();
				mypopUpChart.destroy();
			}
			function graph(){
				console.log("hi",bool);
				if(bool>0){
					destroy();
				}
				bool = 1;
				var	label = ['Bubble','Selection','Insertion','Merge','Quick','Quick3','Heap','Shell','Count','Radix'];
				var ctx = document.getElementById('myChart');
				
				var popupctx = document.getElementById('popUpChart');

				var data = [];
				var comparisons = [];
				var swaps = [];
				
				time = document.getElementById("data").innerHTML.toString().split(",");
				comparisons = document.getElementById("comparisons").innerHTML.toString().split(",");
				swaps = document.getElementById("swaps").innerHTML.toString().split(",");

				inputarr = document.getElementById("resultarr").innerHTML.toString().split(",");
				outputarr = document.getElementById("resultoutarr").innerHTML.toString().split(",");
				var popUpLabel = [];
				var elementsSize = document.getElementById('noofelements').value;
				// var maximumrange = document.getElementById('maxrange').value;
				
				for(var i=0;i<elementsSize;i++){
					popUpLabel.push(i);
				}

				var popUpData = {
					labels: popUpLabel,
					datasets: [
						{
							label: 'Output data',
							data: outputarr,
							borderColor: 'green',
							borderWidth: 2,
							yAxisID: 'y1'
						},
						{
							label: 'Input data',
							data: inputarr,
							borderColor: 'red',
							borderWidth: 2,
							yAxisID: 'y'
						}
					]
				}
				
				var data = {
					labels: label,
					datasets: [
					{
						label: 'TimeTaken in (Âµs)',
						data: time,
						borderColor: 'blue',
						borderWidth: 2,
						yAxisID:'y',
						
					},
					{
						label: 'No of Comparisons',
						data: comparisons,
						borderColor: 'green',
						borderWidth: 2,
						yAxisID:'y1',
					},
					{
						label: 'No of Swaps',
						data: swaps,
						borderColor: 'orange',
						borderWidth: 2,
						yAxisID:'y1',

					}]
				};
				console.log("time is :"+time);
				console.log("comparisons is :"+comparisons);
				console.log("swaps is :"+swaps);
				
				// Chart.defaults.global.defaultFontColor = 'white';
				myChart = new Chart(ctx, {
					type: 'line',
					data: data,
					options: {
						scales: {
								yAxes: [{
								type: 'linear',
								display: true,
								position: 'left',
								id:'y1',
								gridLines:false,
								scaleLabel: {
									display: true,
									labelString: 'Comparision / Swap Counts'
									}
							},
							{
								type: 'linear',
								display: true,
								position: 'right',
								id:'y',
								scaleLabel: {
									display: true,
									labelString: 'Time in nanoseconds'
									}
							},],
							xAxes: [{
								display: true,
								scaleLabel: {
								display: true,
								labelString: 'Sorting Type'
								}
							}]
							},

						}
				});

				mypopUpChart = new Chart(popupctx, {
					type: 'line',
					data: popUpData,
					options: {
						scales: {
							yAxes: [
								{
									type: 'linear',
									display: true,
									position: 'left',
									id:'y',
									scaleLabel: {
										display: true,
										labelString: 'Elements Range'
										}
								},
								{
									type: 'linear',
									display: true,
									position: 'right',
									id:'y1',
									scaleLabel: {
										display: true,
										labelString: 'Elements Range'
										}
								}
							],
							xAxes: [{
								display: true,
								scaleLabel: {
								display: true,
								labelString: 'Input Size'
								}
							}]
							},

						}
				
				});
			}
		</script>
</body>
</html>